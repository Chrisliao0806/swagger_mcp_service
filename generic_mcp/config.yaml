# ========================================
# Generic MCP Service Configuration
# ========================================
# åªéœ€è¦ä¿®æ”¹æ­¤æª”æ¡ˆï¼Œå³å¯å°‡ä»»ä½• OpenAPI/Swagger API è½‰æ›ç‚º MCP Service
# ç„¡éœ€ä¿®æ”¹ä»»ä½•ç¨‹å¼ç¢¼

# API è¨­å®š
api:
  # OpenAPI/Swagger è¦æ ¼ä¾†æºï¼ˆäºŒé¸ä¸€ï¼‰
  # æ–¹å¼ä¸€ï¼šç›´æ¥å¾ URL è®€å– OpenAPI JSON
  # æ”¯æ´ä»¥ä¸‹ URL é¡å‹ï¼š
  #   - ç›´æ¥çš„ OpenAPI JSON: "http://localhost:8000/openapi.json"
  #   - Swagger UI é é¢: "http://localhost:8000/docs" (æœƒè‡ªå‹•æå– OpenAPI spec)
  #   - ReDoc é é¢: "http://localhost:8000/redoc" (æœƒè‡ªå‹•æå– OpenAPI spec)
  openapi_url: "http://localhost:8000/openapi.json"
  #openapi_url: "https://opendata.cwa.gov.tw/dist/opendata-swagger.html"
  
  # æ–¹å¼äºŒï¼šå¾æœ¬åœ°æª”æ¡ˆè®€å–ï¼ˆè‹¥è¨­å®šæ­¤é …ï¼Œæœƒå„ªå…ˆä½¿ç”¨ï¼‰
  # openapi_file: "./openapi.json"
  
  # API åŸºç¤ URLï¼ˆè‹¥ OpenAPI è¦æ ¼ä¸­æœªå®šç¾©ï¼Œå‰‡ä½¿ç”¨æ­¤å€¼ï¼‰
  base_url: "http://localhost:8000"
  #base_url: "https://opendata.cwa.gov.tw/api"
  
  # è«‹æ±‚è¶…æ™‚æ™‚é–“ï¼ˆç§’ï¼‰
  timeout: 30

# MCP Server è¨­å®š
mcp_server:
  # Server åç¨±ï¼ˆæœƒé¡¯ç¤ºåœ¨ MCP client ä¸­ï¼‰
  name: "æ¡è³¼ç³»çµ± API"
  
  # Server æè¿°
  description: "ä¼æ¥­æ¡è³¼ç®¡ç†ç³»çµ± MCP Service - è‡ªå‹•å¾ OpenAPI è¦æ ¼ç”Ÿæˆ"

# Tool ç”Ÿæˆè¨­å®š
tool_generation:
  # æ˜¯å¦åŒ…å«æ‰€æœ‰ API endpointsï¼ˆé è¨­ç‚º trueï¼‰
  include_all: true
  
  # è‹¥ include_all ç‚º falseï¼Œå¯æŒ‡å®šè¦åŒ…å«çš„ endpointsï¼ˆä½¿ç”¨ operationId æˆ– pathï¼‰
  # include_endpoints:
  #   - "get_purchase_history"
  #   - "/api/inventory"
  
  # è¦æ’é™¤çš„ endpointsï¼ˆæ”¯æ´ operationId æˆ– path patternï¼‰
  exclude_endpoints: []
  
  # Tool åç¨±å‰ç¶´ï¼ˆå¯é¸ï¼‰
  # tool_prefix: "procurement_"
  
  # æ˜¯å¦å°‡ operationId è½‰æ›ç‚º snake_case
  snake_case_names: true
  
  # æ˜¯å¦ä½¿ç”¨ç°¡åŒ–çš„ tool åç¨±ï¼ˆç§»é™¤ _api_ å’Œ HTTP method å¾Œç¶´ï¼‰
  simplified_names: true

# LLM è¨­å®šï¼ˆç”¨æ–¼ clientï¼‰
llm:
  # æ¨¡å‹æä¾›è€…
  provider: "openai"  # æ”¯æ´: openai, azure, anthropic
  
  # æ¨¡å‹åç¨±
  model: "gpt-4.1-mini"
  
  # Temperature
  temperature: 0

# System Prompt è¨­å®š
system_prompt:
  # å¯ä»¥ä½¿ç”¨ä»¥ä¸‹è®Šæ•¸ï¼š
  # {api_name} - API åç¨±
  # {api_description} - API æè¿°
  # {tools_summary} - è‡ªå‹•ç”Ÿæˆçš„å·¥å…·æ‘˜è¦
  
  template: |
    ä½ æ˜¯ä¸€å€‹å°ˆæ¥­çš„ AI åŠ©æ‰‹ï¼Œå¯ä»¥é€éä»¥ä¸‹ API å·¥å…·å”åŠ©ä½¿ç”¨è€…å®Œæˆä»»å‹™ã€‚

    ## ğŸ¯ ç³»çµ±è³‡è¨Š
    - API åç¨±ï¼š{api_name}
    - æè¿°ï¼š{api_description}

    ## ğŸ› ï¸ å¯ç”¨å·¥å…·
    {tools_summary}

    ## ğŸ“Š è³‡æ–™è§£è®€è¦ç¯„

    ### å·¥å…·å›å‚³æ ¼å¼
    æ‰€æœ‰å·¥å…·éƒ½æœƒå›å‚³ JSON æ ¼å¼çš„åŸå§‹è³‡æ–™ï¼Œä½ éœ€è¦ï¼š
    1. è§£æ JSON çµæ§‹
    2. åˆ¤æ–· `success` æ¬„ä½æ˜¯å¦ç‚º trueï¼ˆè‹¥æœ‰ï¼‰
    3. å¾ `data` æ¬„ä½æå–å¯¦éš›å…§å®¹ï¼ˆè‹¥æœ‰ï¼‰
    4. ä»¥å‹å–„çš„æ ¼å¼å‘ˆç¾çµ¦ä½¿ç”¨è€…

    ### é‡‘é¡é¡¯ç¤ºè¦ç¯„
    - çµ±ä¸€ä½¿ç”¨ã€ŒNT$ã€ä½œç‚ºè²¨å¹£ç¬¦è™Ÿ
    - ä½¿ç”¨åƒåˆ†ä½æ ¼å¼ï¼Œå¦‚ï¼šNT$ 42,000
    - è¨ˆç®—ç¸½åƒ¹æ™‚ï¼šç¸½åƒ¹ = å–®åƒ¹ Ã— æ•¸é‡

    ### æ—¥æœŸé¡¯ç¤ºè¦ç¯„
    - ä½¿ç”¨ YYYY-MM-DD æ ¼å¼
    - å¯é©æ™‚è£œå……ã€Œè·ä»Š X å¤©ã€ç­‰ç›¸å°æ™‚é–“

    ## ğŸ’¬ å°è©±é¢¨æ ¼

    ### èªè¨€
    - ä½¿ç”¨ç¹é«”ä¸­æ–‡
    - å°ˆæ¥­ä½†è¦ªåˆ‡çš„èªæ°£
    - é©åº¦ä½¿ç”¨ emoji å¢åŠ å¯è®€æ€§

    ### ä¸»å‹•æ€§
    - ç™¼ç¾è³‡è¨Šä¸è¶³æ™‚ï¼Œä¸»å‹•è©¢å•
    - ç™¼ç¾ç•°å¸¸æ™‚ï¼Œä¸»å‹•æé†’
    - æ“ä½œå‰ç¢ºèªé—œéµè³‡è¨Š

    ## âš ï¸ æ³¨æ„äº‹é …
    1. **è³‡æ–™ä¸å­˜åœ¨**ï¼šæŸ¥è©¢ç„¡çµæœæ™‚ï¼Œæ¸…æ¥šèªªæ˜ã€ŒæŸ¥ç„¡è³‡æ–™ã€è€Œéç·¨é€ 
    2. **API éŒ¯èª¤**ï¼šè‹¥ success=falseï¼Œé¡¯ç¤º error è¨Šæ¯ä¸¦å»ºè­°ç”¨æˆ¶ç¨å¾Œå†è©¦
    3. **ç¢ºèªæ“ä½œ**ï¼šåŸ·è¡Œå¯«å…¥æ“ä½œå‰ï¼Œç¢ºèªç”¨æˆ¶æ„åœ–

    é–‹å§‹ç‚ºç”¨æˆ¶æä¾›æœå‹™å§ï¼

# é€²éšè¨­å®š
advanced:
  # æ˜¯å¦å•Ÿç”¨é™¤éŒ¯æ¨¡å¼
  debug: false
  
  # è‡ªå‹•é‡è©¦æ¬¡æ•¸
  retry_count: 3
  
  # æ˜¯å¦å¿«å– OpenAPI è¦æ ¼
  cache_openapi: true
  
  # å¿«å–éæœŸæ™‚é–“ï¼ˆç§’ï¼‰
  cache_ttl: 3600
